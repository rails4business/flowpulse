<!DOCTYPE html>
<html lang="it">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>
      Dashboard — WeekPlan / Ruoli / Attività / Processi / Obiettivi
    </title>

    <style>
      :root {
        --bg: #0b1220;
        --panel: #111b2e;
        --panel2: #0f172a;
        --text: #e5e7eb;
        --muted: #9ca3af;
        --line: rgba(255, 255, 255, 0.1);
        --chip: rgba(255, 255, 255, 0.08);
        --ok: #22c55e;
        --warn: #f59e0b;
        --bad: #ef4444;
        --blue: #60a5fa;
        --violet: #a78bfa;
        --green: #34d399;
        --red: #fb7185;
        --orange: #fbbf24;
        --radius: 18px;
      }
      body[data-theme="light"] {
        --bg: #f5f7fb;
        --panel: #ffffff;
        --panel2: #f1f5f9;
        --text: #0f172a;
        --muted: #475569;
        --line: rgba(15, 23, 42, 0.12);
        --chip: rgba(15, 23, 42, 0.06);
        --ok: #16a34a;
        --warn: #f59e0b;
        --bad: #dc2626;
        --blue: #2563eb;
        --violet: #7c3aed;
        --green: #059669;
        --red: #e11d48;
        --orange: #d97706;
      }

      * {
        box-sizing: border-box;
      }
      body {
        margin: 0;
        font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto,
          Helvetica, Arial;
        background: radial-gradient(
            1200px 800px at 20% 10%,
            rgba(96, 165, 250, 0.15),
            transparent 55%
          ),
          radial-gradient(
            900px 700px at 80% 0%,
            rgba(167, 139, 250, 0.12),
            transparent 55%
          ),
          radial-gradient(
            900px 700px at 60% 90%,
            rgba(52, 211, 153, 0.1),
            transparent 55%
          ),
          var(--bg);
        color: var(--text);
      }
      body[data-theme="light"] {
        background: radial-gradient(
            1200px 800px at 20% 10%,
            rgba(37, 99, 235, 0.12),
            transparent 55%
          ),
          radial-gradient(
            900px 700px at 80% 0%,
            rgba(124, 58, 237, 0.12),
            transparent 55%
          ),
          radial-gradient(
            900px 700px at 60% 90%,
            rgba(5, 150, 105, 0.1),
            transparent 55%
          ),
          var(--bg);
      }

      a {
        color: inherit;
      }
      .wrap {
        max-width: 1180px;
        margin: 0 auto;
        padding: 18px 16px 32px;
      }
      header {
        display: flex;
        align-items: flex-start;
        justify-content: space-between;
        gap: 12px;
        padding: 14px 14px 10px;
        border: 1px solid var(--line);
        background: linear-gradient(
          180deg,
          rgba(255, 255, 255, 0.06),
          rgba(255, 255, 255, 0.03)
        );
        border-radius: var(--radius);
        backdrop-filter: blur(8px);
      }
      .title h1 {
        font-size: 18px;
        margin: 0 0 6px;
      }
      .title p {
        margin: 0;
        color: var(--muted);
        font-size: 13px;
        line-height: 1.35;
      }
      .actions {
        display: flex;
        gap: 8px;
        align-items: center;
        flex-wrap: wrap;
        justify-content: flex-end;
      }
      button,
      .btn {
        appearance: none;
        border: 1px solid var(--line);
        background: rgba(255, 255, 255, 0.06);
        color: var(--text);
        padding: 10px 12px;
        border-radius: 14px;
        font-weight: 600;
        font-size: 13px;
        cursor: pointer;
        display: inline-flex;
        gap: 8px;
        align-items: center;
      }
      button:hover,
      .btn:hover {
        background: rgba(255, 255, 255, 0.09);
      }
      .btn-ghost {
        background: transparent;
      }
      .btn-primary {
        background: rgba(96, 165, 250, 0.18);
        border-color: rgba(96, 165, 250, 0.35);
      }
      .btn-primary:hover {
        background: rgba(96, 165, 250, 0.24);
      }
      .pill {
        display: inline-flex;
        gap: 8px;
        align-items: center;
        padding: 7px 10px;
        border-radius: 999px;
        font-size: 12px;
        border: 1px solid var(--line);
        background: rgba(255, 255, 255, 0.05);
        color: var(--muted);
        white-space: nowrap;
      }
      .dot {
        width: 8px;
        height: 8px;
        border-radius: 999px;
        background: var(--blue);
        display: inline-block;
      }
      .dot.red {
        background: var(--red);
      }
      .dot.green {
        background: var(--green);
      }
      .dot.violet {
        background: var(--violet);
      }
      .dot.orange {
        background: var(--orange);
      }

      /* Tabs */
      .tabs {
        margin-top: 14px;
        border: 1px solid var(--line);
        background: rgba(255, 255, 255, 0.03);
        border-radius: var(--radius);
        overflow: hidden;
      }
      .tabbar {
        display: flex;
        gap: 6px;
        flex-wrap: wrap;
        padding: 10px;
        border-bottom: 1px solid var(--line);
        background: rgba(255, 255, 255, 0.03);
      }
      .tab {
        padding: 10px 12px;
        border-radius: 14px;
        border: 1px solid transparent;
        color: var(--muted);
        font-weight: 700;
        font-size: 13px;
        cursor: pointer;
        user-select: none;
      }
      .tab[aria-selected="true"] {
        color: var(--text);
        border-color: rgba(255, 255, 255, 0.12);
        background: rgba(255, 255, 255, 0.07);
      }

      /* Panels / Layout */
      .panel {
        display: none;
        padding: 14px;
      }
      .panel.active {
        display: block;
      }
      .grid {
        display: grid;
        grid-template-columns: 1.2fr 0.8fr;
        gap: 12px;
      }
      @media (max-width: 980px) {
        .grid {
          grid-template-columns: 1fr;
        }
      }
      .card {
        border: 1px solid var(--line);
        background: rgba(255, 255, 255, 0.04);
        border-radius: var(--radius);
        padding: 12px;
      }
      .card h2 {
        margin: 0 0 10px;
        font-size: 14px;
      }
      .sub {
        color: var(--muted);
        font-size: 12px;
        margin-top: -6px;
        margin-bottom: 10px;
        line-height: 1.35;
      }
      .row {
        display: flex;
        gap: 8px;
        align-items: center;
        justify-content: space-between;
      }
      .row + .row {
        margin-top: 8px;
      }
      .muted {
        color: var(--muted);
      }
      .kpi {
        display: grid;
        grid-template-columns: repeat(4, 1fr);
        gap: 10px;
      }
      @media (max-width: 820px) {
        .kpi {
          grid-template-columns: repeat(2, 1fr);
        }
      }
      .kpi .box {
        border: 1px solid var(--line);
        background: rgba(255, 255, 255, 0.04);
        border-radius: 16px;
        padding: 10px;
      }
      .kpi .num {
        font-size: 18px;
        font-weight: 900;
        margin: 2px 0 2px;
      }
      .kpi .lbl {
        font-size: 12px;
        color: var(--muted);
      }
      .tag {
        display: inline-flex;
        border: 1px solid var(--line);
        background: var(--chip);
        border-radius: 999px;
        padding: 6px 10px;
        font-size: 12px;
        color: var(--muted);
        gap: 8px;
        align-items: center;
        white-space: nowrap;
      }
      .tag strong {
        color: var(--text);
      }
      .tag .mini {
        width: 8px;
        height: 8px;
        border-radius: 999px;
        background: var(--blue);
      }
      .tag.red .mini {
        background: var(--red);
      }
      .tag.green .mini {
        background: var(--green);
      }
      .tag.violet .mini {
        background: var(--violet);
      }
      .tag.orange .mini {
        background: var(--orange);
      }

      /* Tables (simple) */
      table {
        width: 100%;
        border-collapse: collapse;
        overflow: hidden;
        border-radius: 14px;
      }
      th,
      td {
        border-bottom: 1px solid var(--line);
        padding: 10px 10px;
        text-align: left;
        font-size: 13px;
        vertical-align: top;
      }
      th {
        color: var(--muted);
        font-weight: 800;
        font-size: 12px;
        letter-spacing: 0.02em;
      }
      tr:hover td {
        background: rgba(255, 255, 255, 0.03);
      }
      .small {
        font-size: 12px;
        color: var(--muted);
      }
      .status {
        display: inline-flex;
        align-items: center;
        gap: 8px;
        font-size: 12px;
        font-weight: 800;
        padding: 6px 10px;
        border-radius: 999px;
        border: 1px solid var(--line);
        background: rgba(255, 255, 255, 0.04);
      }
      .status .s {
        width: 8px;
        height: 8px;
        border-radius: 999px;
        background: var(--warn);
      }
      .status.ok .s {
        background: var(--ok);
      }
      .status.bad .s {
        background: var(--bad);
      }
      .status.warn .s {
        background: var(--warn);
      }

      /* Weekplan board */
      .week {
        display: grid;
        grid-template-columns: repeat(5, 1fr);
        gap: 10px;
      }
      @media (max-width: 980px) {
        .week {
          grid-template-columns: 1fr;
        }
      }
      .day {
        border: 1px solid var(--line);
        background: rgba(255, 255, 255, 0.03);
        border-radius: var(--radius);
        padding: 10px;
        min-height: 240px;
      }
      .day h3 {
        margin: 0 0 8px;
        font-size: 13px;
      }
      .slot {
        margin-top: 8px;
        padding-top: 8px;
        border-top: 1px dashed rgba(255, 255, 255, 0.12);
      }
      .slot:first-of-type {
        border-top: none;
        padding-top: 0;
      }
      .slot .when {
        font-size: 11px;
        color: var(--muted);
        font-weight: 800;
        letter-spacing: 0.02em;
      }
      .item {
        margin-top: 6px;
        border: 1px solid var(--line);
        background: rgba(255, 255, 255, 0.04);
        border-radius: 14px;
        padding: 8px 9px;
      }
      .item .top {
        display: flex;
        align-items: center;
        justify-content: space-between;
        gap: 10px;
      }
      .item .name {
        font-weight: 900;
        font-size: 12px;
      }
      .item .meta {
        font-size: 11px;
        color: var(--muted);
      }
      .chips {
        display: flex;
        flex-wrap: wrap;
        gap: 6px;
        margin-top: 6px;
      }
      .chip {
        padding: 5px 8px;
        border-radius: 999px;
        border: 1px solid var(--line);
        background: rgba(255, 255, 255, 0.03);
        font-size: 11px;
        color: var(--muted);
        display: inline-flex;
        gap: 6px;
        align-items: center;
      }
      .chip .c {
        width: 8px;
        height: 8px;
        border-radius: 999px;
        background: var(--blue);
      }
      .chip.red .c {
        background: var(--red);
      }
      .chip.green .c {
        background: var(--green);
      }
      .chip.violet .c {
        background: var(--violet);
      }
      .chip.orange .c {
        background: var(--orange);
      }

      /* Forms */
      .form-row {
        display: flex;
        gap: 10px;
        flex-wrap: wrap;
        margin-bottom: 10px;
      }
      .field {
        flex: 1;
        min-width: 220px;
      }
      label {
        display: block;
        font-size: 12px;
        color: var(--muted);
        margin: 0 0 6px;
        font-weight: 800;
      }
      input,
      select,
      textarea {
        width: 100%;
        padding: 10px 11px;
        border-radius: 14px;
        border: 1px solid var(--line);
        background: rgba(15, 23, 42, 0.65);
        color: var(--text);
        outline: none;
      }
      textarea {
        min-height: 94px;
        resize: vertical;
      }
      .hint {
        font-size: 12px;
        color: var(--muted);
        margin-top: 6px;
        line-height: 1.35;
      }
      .footer-note {
        margin-top: 12px;
        color: var(--muted);
        font-size: 12px;
        line-height: 1.4;
      }
      .mono {
        font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas,
          "Liberation Mono", "Courier New", monospace;
      }
    </style>
  </head>

  <body>
    <div class="wrap">
      <header>
        <div class="title">
          <h1>Dashboard Operativa</h1>
          <p>
            WeekPlan • Ruoli • Attività • Processi (Journey) • Obiettivi — una
            vista unica per “ripetere bene” e lasciare spazio a ricerca, clinica
            e creazione.
          </p>
          <div
            style="margin-top: 10px; display: flex; gap: 8px; flex-wrap: wrap"
          >
            <span class="pill"><span class="dot"></span>Contenuti</span>
            <span class="pill"><span class="dot red"></span>Clinica</span>
            <span class="pill"
              ><span class="dot green"></span>Benessere/Diario</span
            >
            <span class="pill"
              ><span class="dot orange"></span>Piattaforma</span
            >
            <span class="pill"
              ><span class="dot violet"></span>Territorio/Eventi</span
            >
          </div>
        </div>

        <div class="actions">
          <button class="btn" id="btnTheme" aria-pressed="false">
            Tema: Scuro
          </button>
        </div>
      </header>

      <section class="tabs" id="tabs">
        <div class="tabbar" role="tablist" aria-label="Sezioni dashboard">
          <div
            class="tab"
            role="tab"
            tabindex="0"
            aria-selected="true"
            data-tab="generaimpresa"
          >
            GeneraImpresa
          </div>
          <div
            class="tab"
            role="tab"
            tabindex="-1"
            aria-selected="false"
            data-tab="rails4b"
          >
            Rails4B
          </div>
          <div
            class="tab"
            role="tab"
            tabindex="-1"
            aria-selected="false"
            data-tab="impegno"
          >
            1impegno
          </div>
        </div>

        <!-- GENERAIMPRESA -->
        <div
          class="panel active"
          id="panel-generaimpresa"
          role="tabpanel"
          aria-label="GeneraImpresa"
        >
          <div class="grid">
            <div class="card">
              <h2>Mappa viaggio (stazioni)</h2>
              <p class="sub">
                Il viaggio e l'ordine delle stazioni. Qui si decide cosa viene
                prima e cosa viene dopo.
              </p>
              <table>
                <thead>
                  <tr>
                    <th>Stazione</th>
                    <th>Obiettivo</th>
                    <th>Stato</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td>Previsione</td>
                    <td>Visione + numeri + metriche</td>
                    <td><span class="status warn"><span class="s"></span>in corso</span></td>
                  </tr>
                  <tr>
                    <td>Produzione contenuti</td>
                    <td>Articoli, video, micro-contenuti</td>
                    <td><span class="status"><span class="s"></span>da fare</span></td>
                  </tr>
                  <tr>
                    <td>Distribuzione</td>
                    <td>IG, YouTube, newsletter, blog</td>
                    <td><span class="status"><span class="s"></span>da fare</span></td>
                  </tr>
                  <tr>
                    <td>Porte finali</td>
                    <td>Corso, Percorso, Accademia, Collabora, Esplora</td>
                    <td><span class="status"><span class="s"></span>da fare</span></td>
                  </tr>
                </tbody>
              </table>
            </div>

            <div class="card">
              <h2>Stazione attuale</h2>
              <p class="sub">Semplifica: una stazione attiva per volta.</p>
              <div class="row">
                <div>
                  <div style="font-weight: 900">Previsione</div>
                  <div class="small">Visione, numeri, obiettivo del ciclo.</div>
                </div>
                <span class="status warn"><span class="s"></span>in corso</span>
              </div>
              <div style="margin-top: 10px" class="chips">
                <span class="chip"><span class="c"></span>Visione</span>
                <span class="chip"><span class="c"></span>Numeri</span>
                <span class="chip"><span class="c"></span>Obiettivi</span>
              </div>
              <p class="footer-note">
                Quando la stazione è chiusa, passa alla successiva.
              </p>
            </div>
          </div>
        </div>

        <!-- RAILS4B -->
        <div
          class="panel"
          id="panel-rails4b"
          role="tabpanel"
          aria-label="Rails4B"
        >
          <div class="card">
            <h2>Stazioni e task</h2>
            <p class="sub">
              Dettaglio operativo: cosa va fatto, tempi, costo, ruolo e persona.
            </p>
            <table>
              <thead>
                <tr>
                  <th>Stazione</th>
                  <th>Task</th>
                  <th>Tempo</th>
                  <th>Costo</th>
                  <th>Ruolo</th>
                  <th>Assegnato a</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>Previsione</td>
                  <td>Allineamento visione + numeri</td>
                  <td>2h</td>
                  <td>€120</td>
                  <td>Founder</td>
                  <td class="small">—</td>
                </tr>
                <tr>
                  <td>Produzione contenuti</td>
                  <td>Scrivi capitolo + script video</td>
                  <td>4h</td>
                  <td>€200</td>
                  <td>Editor</td>
                  <td class="small">—</td>
                </tr>
                <tr>
                  <td>Distribuzione</td>
                  <td>5 shorts + 1 newsletter</td>
                  <td>3h</td>
                  <td>€150</td>
                  <td>Content Ops</td>
                  <td class="small">—</td>
                </tr>
                <tr>
                  <td>Porte finali</td>
                  <td>Landing + CTA + checkout</td>
                  <td>5h</td>
                  <td>€300</td>
                  <td>Dev / Marketing</td>
                  <td class="small">—</td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>

        <!-- 1IMPEGNO -->
        <div
          class="panel"
          id="panel-impegno"
          role="tabpanel"
          aria-label="1impegno"
        >
          <div class="grid">
            <div class="card">
              <h2>Ruoli e task assegnati</h2>
              <p class="sub">
                All'inizio pochi ruoli coprono più task; poi si specializza.
              </p>
              <table>
                <thead>
                  <tr>
                    <th>Ruolo</th>
                    <th>Task</th>
                    <th>Tempo</th>
                    <th>Compenso</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td>Founder</td>
                    <td>Visione + numeri + decisioni</td>
                    <td>3h</td>
                    <td>€180</td>
                  </tr>
                  <tr>
                    <td>Editor</td>
                    <td>Scrittura + revisione</td>
                    <td>5h</td>
                    <td>€250</td>
                  </tr>
                  <tr>
                    <td>Content Ops</td>
                    <td>Shorts + pubblicazione</td>
                    <td>3h</td>
                    <td>€150</td>
                  </tr>
                </tbody>
              </table>
            </div>

            <div class="card">
              <h2>Compenso finale</h2>
              <p class="sub">
                Quando tutte le stazioni sono completate, si divide il valore.
              </p>
              <div class="kpi">
                <div class="box">
                  <div class="lbl">Ore totali</div>
                  <div class="num">11h</div>
                  <div class="small">Somma di tutti i task</div>
                </div>
                <div class="box">
                  <div class="lbl">Costo totale</div>
                  <div class="num">€580</div>
                  <div class="small">Budget del ciclo</div>
                </div>
                <div class="box">
                  <div class="lbl">Ricavo atteso</div>
                  <div class="num">€1.800</div>
                  <div class="small">Stima conservativa</div>
                </div>
                <div class="box">
                  <div class="lbl">Margine</div>
                  <div class="num">€1.220</div>
                  <div class="small">Da distribuire</div>
                </div>
              </div>
              <p class="footer-note">
                Qui puoi aggiungere le persone e la percentuale di riparto.
              </p>
            </div>
          </div>
        </div>
      </section>
    </div>

    <script>
      const THEME_KEY = "pc_dashboard_theme";

      function loadTheme() {
        const t = localStorage.getItem(THEME_KEY);
        return t === "light" ? "light" : "dark";
      }

      function applyTheme(theme) {
        document.body.setAttribute("data-theme", theme);
        const btn = document.getElementById("btnTheme");
        if (btn) {
          const isLight = theme === "light";
          btn.textContent = `Tema: ${isLight ? "Chiaro" : "Scuro"}`;
          btn.setAttribute("aria-pressed", isLight ? "true" : "false");
        }
      }

      const tabsEl = document.getElementById("tabs");
      const tabButtons = Array.from(tabsEl.querySelectorAll(".tab"));
      const panels = {
        generaimpresa: document.getElementById("panel-generaimpresa"),
        rails4b: document.getElementById("panel-rails4b"),
        impegno: document.getElementById("panel-impegno"),
      };

      function setTab(key) {
        tabButtons.forEach((btn) => {
          const active = btn.dataset.tab === key;
          btn.setAttribute("aria-selected", active ? "true" : "false");
          btn.tabIndex = active ? 0 : -1;
        });
        Object.entries(panels).forEach(([k, el]) =>
          el.classList.toggle("active", k === key)
        );
      }

      tabButtons.forEach((btn) => {
        btn.addEventListener("click", () => setTab(btn.dataset.tab));
        btn.addEventListener("keydown", (e) => {
          if (e.key !== "ArrowRight" && e.key !== "ArrowLeft") return;
          const i = tabButtons.indexOf(btn);
          const next =
            e.key === "ArrowRight"
              ? (i + 1) % tabButtons.length
              : (i - 1 + tabButtons.length) % tabButtons.length;
          tabButtons[next].focus();
          setTab(tabButtons[next].dataset.tab);
        });
      });

      document.getElementById("btnTheme")?.addEventListener("click", () => {
        const next =
          document.body.getAttribute("data-theme") === "light"
            ? "dark"
            : "light";
        applyTheme(next);
        localStorage.setItem(THEME_KEY, next);
      });

      applyTheme(loadTheme());
      setTab("generaimpresa");
    </script>
  </body>
</html>
