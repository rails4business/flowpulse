<% content_for :title, "Generaimpresa · #{@domain.title.presence || @domain.host}" %>

<div class="space-y-6">
  <div class="rounded-2xl border border-slate-200 bg-white p-6 shadow-sm">
    <h1 class="text-3xl font-bold text-slate-900">Generaimpresa</h1>
    <p class="text-sm text-slate-600 mt-1">
      Statistiche aggregate per il dominio <strong><%= @domain.title.presence || @domain.host %></strong>.
    </p>
    <%= link_to "← Torna al dominio",
                superadmin_domain_path(@domain),
                class: "inline-flex items-center text-sm font-medium text-blue-600 hover:underline mt-3" %>
  </div>

  <div class="grid gap-4 md:grid-cols-3">
    <div class="rounded-xl border border-slate-200 bg-white p-5 shadow-sm">
      <p class="text-xs uppercase tracking-wide text-slate-500">Iscrizioni</p>
      <p class="text-2xl font-semibold text-slate-900"><%= @enrollments_count %></p>
    </div>
    <div class="rounded-xl border border-slate-200 bg-white p-5 shadow-sm">
      <p class="text-xs uppercase tracking-wide text-slate-500">Certificati</p>
      <p class="text-2xl font-semibold text-slate-900"><%= @certificates_count %></p>
    </div>
    <div class="rounded-xl border border-slate-200 bg-white p-5 shadow-sm">
      <p class="text-xs uppercase tracking-wide text-slate-500">Costo produzione</p>
      <p class="text-2xl font-semibold text-slate-900"><%= number_to_currency(@production_cost_euro) %></p>
    </div>
    <div class="rounded-xl border border-slate-200 bg-white p-5 shadow-sm">
      <p class="text-xs uppercase tracking-wide text-slate-500">Minuti produzione</p>
      <p class="text-2xl font-semibold text-slate-900"><%= @production_minutes %></p>
    </div>
    <div class="rounded-xl border border-slate-200 bg-white p-5 shadow-sm">
      <p class="text-xs uppercase tracking-wide text-slate-500">Ricavi iscrizioni</p>
      <p class="text-2xl font-semibold text-slate-900"><%= number_to_currency(@enrollment_revenue_euro) %></p>
    </div>
    <div class="rounded-xl border border-slate-200 bg-white p-5 shadow-sm">
      <p class="text-xs uppercase tracking-wide text-slate-500">Ricavi prenotazioni</p>
      <p class="text-2xl font-semibold text-slate-900"><%= number_to_currency(@booking_revenue_euro) %></p>
    </div>
    <div class="rounded-xl border border-slate-200 bg-white p-5 shadow-sm md:col-span-3">
      <p class="text-xs uppercase tracking-wide text-slate-500">Ricavi pubblici totali</p>
      <p class="text-2xl font-semibold text-slate-900"><%= number_to_currency(@public_revenue_euro) %></p>
    </div>
  </div>
</div>
