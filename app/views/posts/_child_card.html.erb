<%# app/views/posts/_child_card.html.erb %>
<%# Locals attesi: child_taxbranch %>
<% tax = child_taxbranch %>

<div class="rounded-xl border border-slate-200 bg-white p-4 shadow-sm">
  <div class="flex items-start justify-between gap-3">
    <div>
      <h3 class="text-lg font-semibold text-slate-900">
        <%= tax.post.title %>
      </h3>

      <%# Descrizione se presente %>
    
  
        <p class="mt-1 text-sm text-slate-600"><%=tax.post.description %></p>

    </div>

    <%# Icona/etichetta opzionale %>
    <% if tax.respond_to?(:children_count) && tax.children_count.to_i > 0 %>
      <span class="inline-flex items-center rounded-full px-2 py-1 text-xs font-medium ring-1 ring-inset ring-slate-200">
        <%= tax.children_count %> 
      </span>
    <% end %>
  </div>

  <div class="mt-4 flex items-center gap-2">
    <%# Link di esempio: personalizza la route secondo la tua app %>
    <%# Se hai un path per visualizzare il ramo o filtrare i post per taxbranch, sostituisci qui %>
    

    <%# Se esiste un post associato e vuoi mostrare lâ€™icona documento %>
    <% if tax.respond_to?(:post) && tax.post.present? %>
      <%= link_to "Apri", post_path(tax.post.slug), title: "Vedi post",
            class: "rounded-lg border border-slate-200 bg-blue-600 px-3 py-1.5 text-sm hover:bg-blue-500 text-white" %>
    <% end %>
  </div>
</div>
