<!-- app/views/shared/_navbar.html.erb -->
<nav class="bg-white border-b border-slate-200 shadow-sm">
  <div class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8">
    <div class="flex justify-between h-16 items-center">


      <!-- Logo / Titolo -->
      <div class="flex items-center space-x-3">
        <% if Current.domain&.square_logo_url.present? %>
          <%= link_to  authenticated_root_path do %>
          
            <img src="<%= Current.domain.square_logo_url %>" alt="Logo"
                 class="h-10 w-10 object-contain">
          <% end %>
        <% else %>
          <%= link_to unauthenticated_root_path, class: "font-bold text-lg text-slate-800 hover:text-slate-900" do %>
            <%= Current.domain&.title.presence || "PosturaCorretta" %>
            
          <% end %>
        <% end %>
      </div>

      <!-- Link principali -->
      <div class="hidden sm:flex space-x-6">
        <%= link_to "Home", unauthenticated_root_path, class: "text-slate-700 hover:text-slate-900 font-medium" %>
        <%= link_to "Blog", unauthenticated_root_path, class: "text-slate-700 hover:text-slate-900 font-medium" %>
        <%= link_to "Corsi", unauthenticated_root_path, class: "text-slate-700 hover:text-slate-900 font-medium" %>
      </div>

      <!-- Area utente -->
      <div class="flex items-center space-x-4">
        <% if Current.user.present? %>
          <%= link_to "Dashboard", main_app.authenticated_root_path,
                class: "text-slate-700 hover:text-slate-900 font-medium" %>

          <%= button_to "Logout", main_app.session_path, 
                method: :delete, 
                class: "text-sm text-slate-500 hover:text-slate-700" %>
        <% else %>
          <%= link_to "Accedi", main_app.new_session_path,
                class: "px-3 py-2 text-sm rounded-md bg-slate-900 text-white hover:bg-slate-800" %>
        <% end %>
      </div>
    </div>
  </div>
</nav>
